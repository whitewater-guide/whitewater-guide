enum MediaKind {
  photo
  video
  blog
}

enum ThumbResize {
  fit
  fill
  crop
}

input ThumbOptions {
  resize: ThumbResize
  width: Int
  height: Int
}

type Media {
  id: ID!
  language: String
  kind: MediaKind!
  description: String
  copyright: String
  url: String!
  thumb(options: ThumbOptions): String
  resolution: [Int]
  weight: Int
  # Not persistent. Indicates client that it should not display this item in lists
  deleted: Boolean
  createdAt: Date
  updatedAt: Date
}

input MediaInput {
  id: ID
  kind: MediaKind!
  description: String
  copyright: String
  url: String
  resolution: [Int]
  weight: Int
}

type MediasList {
  nodes: [Media]!
  count: Int!
}

type MediaUploadForm {
  id: ID!
  upload: UploadLink!
}

type Query {
  mediaBySection(sectionId: ID!, language: String): MediasList!
  media(id: ID, language: String): Media
  mediaForm(id: ID): MediaUploadForm
}

type Mutation {
  upsertSectionMedia(sectionId: ID!, media: MediaInput!, language: String): Media
  removeMedia(id: ID!): Media
}
