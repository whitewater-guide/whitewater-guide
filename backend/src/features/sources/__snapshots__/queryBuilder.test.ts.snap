// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`should build correct query with connections 1`] = `"with \\"connected_regions\\" as (select \\"regions_view\\".\\"id\\", \\"regions_view\\".\\"language\\", \\"regions_view\\".\\"name\\", \\"source_id\\" from \\"regions_view\\" inner join \\"sources_regions\\" on \\"regions_view\\".\\"id\\" = \\"sources_regions\\".\\"region_id\\") select \\"sources_view\\".\\"id\\", \\"sources_view\\".\\"language\\", \\"sources_view\\".\\"name\\", \\"sources_view\\".\\"url\\", \\"sources_view\\".\\"script\\", \\"sources_view\\".\\"harvest_mode\\", \\"sources_view\\".\\"cron\\", \\"sources_view\\".\\"enabled\\", \\"sources_view\\".\\"created_at\\", \\"sources_view\\".\\"updated_at\\", (select count(*) from \\"sources_regions\\" where \\"source_id\\" = \\"sources_view\\".\\"id\\") as \\"count\\", (select json_agg(connected_regions.*) from \\"connected_regions\\" where \\"connected_regions\\".\\"source_id\\" = \\"sources_view\\".\\"id\\" and \\"connected_regions\\".\\"language\\" = \\"sources_view\\".\\"language\\") as \\"regions\\" from \\"sources_view\\" where \\"sources_view\\".\\"language\\" = 'en'"`;

exports[`should build correct query without connections 1`] = `"select \\"sources_view\\".\\"id\\", \\"sources_view\\".\\"language\\", \\"sources_view\\".\\"name\\", \\"sources_view\\".\\"url\\", \\"sources_view\\".\\"script\\", \\"sources_view\\".\\"harvest_mode\\", \\"sources_view\\".\\"cron\\", \\"sources_view\\".\\"enabled\\", \\"sources_view\\".\\"created_at\\", \\"sources_view\\".\\"updated_at\\" from \\"sources_view\\" where \\"sources_view\\".\\"language\\" = 'en'"`;
